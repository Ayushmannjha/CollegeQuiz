<div class="min-h-screen bg-saffronish-white p-5">
    <!-- Navbar -->
    <nav class="bg-orange-500 text-white p-4 rounded-md shadow-md flex justify-between items-center">
      <h1 class="font-bold text-lg">Student Dashboard</h1>
      <div>
        <span>Name: {{ student?.name }}</span> |
        <span>Roll No: {{ student?.roll }}</span>
      </div>
    </nav>
  
    <!-- Table Section -->
    <div class="mt-8">
      <div class="overflow-x-auto">
        <table class="table-auto w-full bg-white shadow-lg rounded-lg border-collapse">
          <thead class="bg-orange-500 text-white">
            <tr>
              <th class="p-4 text-left">Question No</th>
              <th class="p-4 text-left">Question Description</th>
              <th class="p-4 text-left">Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngIf="!question?.length">
              <td colspan="3" class="text-center p-4">No questions uploaded yet</td>
            </tr>
            <ng-container *ngFor="let q of question; let i = index">
              <tr>
                <td class="p-4">{{ i + 1 }}</td>
                <td class="p-4">
                  <div class="truncate w-64">{{ q.description }}</div>
                  <div *ngIf="q.description.length > 100">
                    <button class="text-blue-500 underline" (click)="toggleDetails(q.id)">Read More</button>
                  </div>
                  <!-- Check it link in the description column -->
                  <a
                  *ngIf="getStatus(q.id) === 0" 
                  (click)="getSubmitStatus(q.id) === 1 ? fetchCheckPanelDetails(student.roll, q.id, i + 1) : null"
                  [ngClass]="{
                    'text-blue-500 underline cursor-pointer': getSubmitStatus(q.id) === 1,
                    'text-gray-500 cursor-not-allowed pointer-events-none': getSubmitStatus(q.id) === 0
                  }"
                >
                  Check it
                </a>
                

                </td>
                <td class="p-4">
                  <!-- Status dot remains here -->
                  <span
                    [ngClass]="{
                      'bg-green-500': getStatus(q.id) === 1,
                      'bg-orange-500': getStatus(q.id) !== 1
                    }"
                    class="w-5 h-5 rounded-full inline-block"
                  ></span>
                </td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  